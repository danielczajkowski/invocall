const setTilesHeaderHeighestHeight = (tiles) => {
    const headers = tiles.querySelectorAll('.carousel_with_details__header');
    let heighestHeight = 0;
    headers.forEach(header => {
        header.style.height = `auto`;
    });
    headers.forEach(header => {
        if (header.offsetHeight > heighestHeight) {
            heighestHeight = header.offsetHeight;
        }
    });
    headers.forEach(header => {
        header.style.height = `${heighestHeight}px`;
    });
};

const elms = document.getElementsByClassName('carousel_with_details__swiper');
const runDetailsSlider = () => {
	Array.prototype.forEach.call(elms, el => {
       
		const swiper = new Swiper(el, {
            slidesPerView: 1.2,
            spaceBetween: 16,
            navigation: {
                nextEl: el.nextElementSibling.querySelector('.carousel_with_details__navigation__button--next'),
                prevEl: el.nextElementSibling.querySelector('.carousel_with_details__navigation__button--prev'),
            },
            breakpoints: {
                420: {
                    slidesPerView: 1.8,
                },
                520: {
                    slidesPerView: 2.1,
                },
                990: {
                    slidesPerView: 2.7,
                },
                1200: {
                    slidesPerView: 3.64,
                },
            },
            on: {
                afterInit: function () {
                    setTilesHeaderHeighestHeight(this.el);
                },
                resize: function () {
                    setTilesHeaderHeighestHeight(this.el);
                },
            },
        });
	});
};
runDetailsSlider();

